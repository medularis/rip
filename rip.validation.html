<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>rip.validation documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Rip 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="rip.core.html"><span>rip.core</span></a></li><li><a href="rip.middleware.html"><span>rip.middleware</span></a></li><li><a href="rip.util.html"><span>rip.util</span></a></li><li class="current"><a href="rip.validation.html"><span>rip.validation</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="rip.validation.html#var-assoc-many"><span>assoc-many</span></a></li><li><a href="rip.validation.html#var-assoc-one"><span>assoc-one</span></a></li><li><a href="rip.validation.html#var-blank%3F"><span>blank?</span></a></li><li><a href="rip.validation.html#var-constraint"><span>constraint</span></a></li><li><a href="rip.validation.html#var-defvalidator"><span>defvalidator</span></a></li><li><a href="rip.validation.html#var-field"><span>field</span></a></li><li><a href="rip.validation.html#var-if-valid"><span>if-valid</span></a></li><li><a href="rip.validation.html#var-parse-to"><span>parse-to</span></a></li><li><a href="rip.validation.html#var-required"><span>required</span></a></li><li><a href="rip.validation.html#var-required-fields"><span>required-fields</span></a></li><li><a href="rip.validation.html#var-validate"><span>validate</span></a></li><li><a href="rip.validation.html#var-validates"><span>validates</span></a></li><li><a href="rip.validation.html#var-validator"><span>validator</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>rip.validation documentation</h2><pre class="doc">Functions for validators
</pre><div class="public" id="var-assoc-many"><h3>assoc-many</h3><div class="usage"><code>(assoc-many validator name validator* &amp; [opts])</code></div><pre class="doc">Associate a nested validator for a list. Options map will be merged with the association map.
Some options: required?
Usage:
  (defvalidator user
    (assoc-many :documents
      (validator
        (field :name))
      {:required? true}))
  ;; Valid over a map like {:documents [{:name &quot;filename&quot;}]}</pre></div><div class="public" id="var-assoc-one"><h3>assoc-one</h3><div class="usage"><code>(assoc-one validator name validator* &amp; [opts])</code></div><pre class="doc">Associate a nested validator for a map. Options map will be merged with the association map.
Some options: :required?
Usage:
  (defvalidator user
    (assoc-one :address
      (validator
        (field :street))
      {:required? true}))
  ;; Valid over a map like {:address {:street &quot;streetname&quot;}}</pre></div><div class="public" id="var-blank%3F"><h3>blank?</h3><div class="usage"><code>(blank? value)</code></div><pre class="doc">Checks if a value is nil or empty if string
</pre></div><div class="public" id="var-constraint"><h3>constraint</h3><h4 class="macro">macro</h4><div class="usage"><code>(constraint validator field &amp; body)</code></div><pre class="doc">Make changes to a validator's field applying the -&gt; macro to the body.
</pre></div><div class="public" id="var-defvalidator"><h3>defvalidator</h3><h4 class="macro">macro</h4><div class="usage"><code>(defvalidator name &amp; body)</code></div><pre class="doc">Define a validator
</pre></div><div class="public" id="var-field"><h3>field</h3><h4 class="macro">macro</h4><div class="usage"><code>(field validator name &amp; body)</code></div><pre class="doc">Add a field to a validator. Applies the -&gt; macro to de body.
Usage:
  (validator
    (field :name ...))</pre></div><div class="public" id="var-if-valid"><h3>if-valid</h3><h4 class="macro">macro</h4><div class="usage"><code>(if-valid result bindings then)</code><code>(if-valid result bindings then else &amp; oldform)</code></div><pre class="doc">Simplifies evaluation of a validation result,
with bindings [valid-value errors] and if-else expressions
Usage:
  (if-valid (validate &lt;validator&gt; &lt;value&gt;)
    [valid-value errors]
    then
    else)</pre></div><div class="public" id="var-parse-to"><h3>parse-to</h3><div class="usage"><code>(parse-to field type)</code></div><pre class="doc">Set the parsing type of a field.
The parser can be one of the following keywords:
  :int, :double, :float, :boolean, :long, :bigint, :bigdecimal, :uuid.
Optionally a parsing function can be passed.
If parsing fails, an invalid type error will be added when validated.</pre></div><div class="public" id="var-required"><h3>required</h3><div class="usage"><code>(required field &amp; [{:keys [if]}])</code></div><pre class="doc">Make a field required.
</pre></div><div class="public" id="var-required-fields"><h3>required-fields</h3><div class="usage"><code>(required-fields validator fields)</code></div><pre class="doc">Apply the 'required' function to a set of fields.
</pre></div><div class="public" id="var-validate"><h3>validate</h3><div class="usage"><code>(validate validator value)</code></div><pre class="doc">Validate a map over a validator definition.
Returns a map with values:
  - valid?: True if validation passed, false otherwise.
  - value:  Resulting value with parser applied.
  - errors: A list of errors.</pre></div><div class="public" id="var-validates"><h3>validates</h3><div class="usage"><code>(validates validator pred &amp; [error])</code></div><pre class="doc">Add a contraint to a validator or a field.
A error can be provided with a string, a map or a function.</pre></div><div class="public" id="var-validator"><h3>validator</h3><h4 class="macro">macro</h4><div class="usage"><code>(validator &amp; body)</code></div><pre class="doc">Create a validator and apply the -&gt; macro to the body.
</pre></div></div></body></html>